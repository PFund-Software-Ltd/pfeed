[workspace]
authors = ["softwareentrepreneer <softwareentrepreneer+pfeed@gmail.com>"]
channels = ["conda-forge"]
name = "pfeed"
platforms = ["osx-arm64", "linux-64", "osx-64", "win-64"]
version = "0.0.5"

[tasks]

[tasks.test-all]
depends-on = [
  { task = "test", environment = "test-py311" },
  { task = "test", environment = "test-py312" },
  { task = "test", environment = "test-py313" },
  # { task = "test", environment = "test-py314" },
]

[dependencies]
python = ">=3.11"
uv = ">=0.8.11"

[pypi-dependencies]
pfund = ">=0.0.2"
rich = ">=13.9.4"
tqdm = ">=4.67.1"
pandas = ">=2.3.1"
polars = ">=1.32.3"
duckdb = ">=1.3.2"
pyarrow = ">=21.0.0"
pandera = ">=0.26.0"
msgspec = ">=0.19.0"
pydantic = ">=2.11.7"
narwhals = ">=2.1.2"
yfinance = ">=0.2.65"
zstandard = ">=0.23.0"
beautifulsoup4 = ">=4.13.4"
cloudpathlib = { version = ">=0.21.1", extras = ["s3", "gs", "azure"] }

[environments]
dev = ["py311", "dev"]
py311-wasm = ["py311", "test"]
py311 = ["py311", "test", "core", "crawl4ai", "lancedb", "fmp"]
py312-wasm = ["py312", "test"]
py312 = ["py312", "test", "core", "crawl4ai", "lancedb", "fmp"]
py313-wasm = ["py313", "test"]
py313 = ["py313", "test", "core", "crawl4ai", "lancedb", "fmp"]
# py314-wasm = ["py314", "test"]
# py314 = ["py314", "test", "core", "crawl4ai", "lancedb", "fmp"]

[feature.core.pypi-dependencies]
ray = ">=2.48.0"
pyzmq = ">=27.0.1"
minio = ">=7.2.16"
deltalake = ">=1.1.4"
prefect = ">=3.4.13"

[feature.crawl4ai.pypi-dependencies]
crawl4ai = ">=0.7.3"

[feature.lancedb.pypi-dependencies]
lancedb = ">=0.24.3"

[feature.fmp.pypi-dependencies]
fmp-api-client = ">=0.0.1"

# [feature.dask.pypi-dependencies]
# dask = { version = ">=2025.5.1", extras = ["complete", "dataframe"] }
# coiled = ">=1.101.1"

# [feature.spark.pypi-dependencies]
# pyspark = { version = ">=4.0.0", extras = ["connect", "pandas-on-spark", "sql"] }

[feature.dev.pypi-dependencies]
ruff = ">=0.12.9"
pre-commit = ">=4.3.0"
[feature.dev.tasks]
precommit = "pre-commit run --all-files"
lint = "ruff check ."
lint-fix = "ruff check --fix ."
fmt = "ruff format ."
typecheck = "uvx ty check"

[feature.test.dependencies]
pytest = ">=8.4.1"
pytest-cov = ">=6.2.1"
pytest-mock = ">=3.14.1"
pytest-xdist = ">=3.8.0"
pytest-asyncio = ">=1.1.0"
[feature.test.tasks]
test = "pytest"

[feature.py311.dependencies]
python = "3.11.*"

[feature.py312.dependencies]
python = "3.12.*"

[feature.py313.dependencies]
python = "3.13.*"

# [feature.py314.dependencies]
# python = "3.14.*"
